webpackJsonp([0],{479:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(550),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);var n=s(597),r=s(195),c=r(i.a,n.a,!1,null,null,null);e.default=c.exports},520:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(89),i=function(t){return t&&t.__esModule?t:{default:t}}(a),o=s(196);e.default={props:["signinUp","headerTitle","goBack","hasLogo","paddingLeft"],methods:(0,i.default)({},(0,o.mapActions)("global/user",["getUserInfo"])),computed:(0,i.default)({},(0,o.mapState)("global/user",["userInfo"])),mounted:function(){this.getUserInfo()}}},521:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(520),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);var n=s(522),r=s(195),c=r(i.a,n.a,!1,null,null,null);e.default=c.exports},522:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-navbar",{staticClass:"fixed-top"},[t._t("logo"),t._v(" "),s("b-navbar-nav",{staticClass:"flex-row align-items-center flex-nowrap",class:t.hasLogo?"":"w-100"},[t._t("search"),t._v(" "),t.goBack?s("b-nav-item",{on:{click:function(e){t.$router.go(-1)}}},[s("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.headerTitle?s("b-nav-text",{staticClass:"text-center text-uppercase",class:{"pl-0":t.paddingLeft}},[t._v("\n            "+t._s(t.headerTitle)+"\n        ")]):t._e(),t._v(" "),t._t("msiteTitle"),t._v(" "),t.signinUp?s("b-nav-item",{attrs:{to:t.userInfo?"/profile":"/login"}},[t.userInfo?s("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}):s("span",{staticClass:"signin-text text-uppercase"},[t._v("SIGNIN/SIGNUP")])]):t._e(),t._v(" "),t._t("edit"),t._v(" "),t._t("changeCity"),t._v(" "),t._t("changeLogin")],2)],2)},i=[],o={render:a,staticRenderFns:i};e.a=o},526:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{positionY:0,timer:null}},mounted:function(){var t=this;this.timer=setInterval(function(){t.positionY++},600)},beforeDestroy:function(){clearInterval(this.timer)}}},527:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(526),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);var n=s(528),r=s(195),c=r(i.a,n.a,!1,null,null,null);e.default=c.exports},528:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading-container"},[s("div",{staticClass:"loading-image",style:{backgroundPositionY:-t.positionY%7*2.5+"rem"}}),t._v(" "),s("svg",{staticClass:"loading-ellipse",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[s("ellipse",{staticStyle:{fill:"#ddd",stroke:"none"},attrs:{cx:"26",cy:"10",rx:"26",ry:"10"}})])])},i=[],o={render:a,staticRenderFns:i};e.a=o},529:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["rating"]}},531:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={methods:{getImgPath:function(t){var e=void 0;return t?(e=-1!==t.indexOf("jpeg")?".jpeg":".png","https://fuss10.elemecdn.com/"+t.substr(0,1)+"/"+t.substr(1,2)+"/"+t.substr(3)+e):"http://test.fe.ptdev.cn/elm/elmlogo.jpeg"}}};e.default={getImgPath:a}},532:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(529),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);var n=s(533),r=s(195),c=r(i.a,n.a,!1,null,null,null);e.default=c.exports},533:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rating-container"},[s("div",{staticClass:"star-container"},t._l(5,function(t){return s("svg",{key:t,staticClass:"grey-fill"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star"}})])})),t._v(" "),s("div",{staticClass:"star-overflow",style:"width:"+2.75*t.rating/5+"rem"},[s("div",{staticClass:"star-container"},t._l(5,function(t){return s("svg",{key:t,staticClass:"highlight-fill"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#star"}})])}))]),t._v(" "),s("svg",{staticStyle:{position:"absolute",width:"0",height:"0",visibility:"hidden"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("symbol",{attrs:{id:"star",viewBox:"0 0 32 32"}},[s("path",{staticClass:"path1",attrs:{d:"M16 26.382l-8.16 4.992c-1.5 0.918-2.382 0.264-1.975-1.435l2.226-9.303-7.269-6.218c-1.337-1.143-0.987-2.184 0.755-2.322l9.536-0.758 3.667-8.835c0.674-1.624 1.772-1.613 2.442 0l3.667 8.835 9.536 0.758c1.753 0.139 2.082 1.187 0.755 2.322l-7.269 6.218 2.226 9.303c0.409 1.71-0.485 2.347-1.975 1.435l-8.16-4.992z"}})])])])])},i=[],o={render:a,staticRenderFns:i};e.a=o},540:function(t,e,s){t.exports={default:s(541),__esModule:!0}},541:function(t,e,s){s(542),t.exports=s(11).Object.values},542:function(t,e,s){var a=s(30),i=s(543)(!1);a(a.S,"Object",{values:function(t){return i(t)}})},543:function(t,e,s){var a=s(60),i=s(52),o=s(68).f;t.exports=function(t){return function(e){for(var s,n=i(e),r=a(n),c=r.length,l=0,d=[];c>l;)o.call(n,s=r[l++])&&d.push(t?[s,n[s]]:n[s]);return d}}},550:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(197),o=a(i),n=s(198),r=a(n),c=s(90),l=a(c),d=s(91),u=a(d),h=s(89),f=a(h),p=s(196),v=s(136),_=s(135),m=a(_),g=s(527),C=a(g),w=s(521),x=a(w),b=s(532),y=a(b),D=s(595),I=a(D),L=s(531),T=a(L);e.default={data:function(){return{showLoading:!0,loadRatings:!1,geohash:"",shopId:null,shopDetailData:null,menuList:[],menuIndex:0,ratingList:null,ratingOffset:0,ratingScoresData:null,ratingTagsList:null,ratingTagIndex:0,ratingTagName:"",showActivities:!1,changeNavType:"products",categoryNum:[],cartMenuList:[],cartListShown:!1,totalPrice:0,alertDialogShowed:!1,showMoveDot:[],cartRecieveDot:!1,dotLeft:0,dotBottom:0,windowHeight:null,choosedFood:null,showMultiChoicesDialog:!1,specChosedIndex:0,imgBaseUrl:v.imgBaseUrl,menuIndexChange:!0,shopListTop:[],preventRepeatRequest:!1,foodScroll:null,ratingScroll:null}},created:function(){this.geohash=this.$route.query.geohash,this.shopId=this.$route.query.id,this.initialShoppingCart()},mounted:function(){this.initData(),this.windowHeight=window.innerHeight},components:{loading:C.default,ratingStar:y.default,headerTop:x.default,buyCart:I.default},mixins:[T.default.getImgPath],computed:(0,f.default)({},(0,p.mapState)({latitude:function(t){return t.global.address.latitude},longitude:function(t){return t.global.address.longitude},shoppingList:function(t){return t.global.cart.shoppingList}}),{promotionInfo:function(){return this.shopDetailData.promotion_info||"Welcome, please order earlier during lunch peaking time, Thanks!"},miniOrderAmount:function(){return this.shopDetailData?this.shopDetailData.float_minimum_order_amount-this.totalPrice:null},deliverityFees:function(){return this.shopDetailData?this.shopDetailData.float_delivery_fee:null},cartTotalProducts:function(){var t=0;return this.cartMenuList.forEach(function(e){t+=e.num}),t},shopCart:function(){return(0,f.default)({},this.shoppingList[this.shopId])}}),methods:(0,f.default)({},(0,p.mapMutations)({recordAddress:"global/address/recordAddress",recordShopDetail:"global/shop/recordShopInfo",initialShoppingCart:"global/cart/initShoppingCart",addToCart:"global/cart/addToCart",moveoutFromCart:"global/cart/moveoutFromCart",clearShoppingCart:"global/cart/clearShoppingCart"}),{initData:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.latitude){t.next=5;break}return t.next=3,m.default.msiteAddress(this.geohash);case 3:e=t.sent,this.recordAddress(e);case 5:return t.next=7,m.default.shopDetail(this.shopId,this.latitude,this.longitude);case 7:return this.shopDetailData=t.sent,t.next=10,m.default.foodMenu(this.shopId);case 10:return this.menuList=t.sent,t.next=13,m.default.shopRatingList(this.shopId,this.ratingOffset);case 13:return this.ratingList=t.sent,t.next=16,m.default.shopRatingScore(this.shopId);case 16:return this.ratingScoresData=t.sent,t.next=19,m.default.shopRatingTags(this.shopId);case 19:this.ratingTagsList=t.sent,this.recordShopDetail(this.shopDetailData),this.hideLoading();case 22:case"end":return t.stop()}},t,this)}));return t}(),hideLoading:function(){this.showLoading=!1},isShowActivities:function(){this.showActivities=!this.showActivities},chooseMenu:function(t){this.menuIndex=t,this.$root.$emit("bv::hide::tooltip")},initCategoryNum:function(){var t=this,e=[],s=0;this.totalPrice=0,this.cartMenuList=[],this.menuList.forEach(function(a,i){if(t.shopCart&&t.shopCart[a.foods[0].category_id]){var o=0;(0,r.default)(t.shopCart[a.foods[0].category_id]).forEach(function(e){(0,r.default)(t.shopCart[a.foods[0].category_id][e]).forEach(function(i){var n=t.shopCart[a.foods[0].category_id][e][i];o+=n.num,1===a.type&&(t.totalPrice+=n.num*n.price,n.num>0&&(t.cartMenuList[s]={},t.cartMenuList[s].category_id=a.foods[0].category_id,t.cartMenuList[s].item_id=e,t.cartMenuList[s].food_id=i,t.cartMenuList[s].num=n.num,t.cartMenuList[s].price=n.price,t.cartMenuList[s].name=n.name,t.cartMenuList[s].specs=n.specs,s++))})}),e[i]=o}else e[i]=0}),this.totalPrice=this.totalPrice.toFixed(2),this.categoryNum=[].concat(e)},showRemoveTip:function(){var t=this;this.alertDialogShowed=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(t.timer),t.alertDialogShowed=!1},3e3)},toggleCartList:function(){!this.cartMenuList.length||(this.cartListShown=!this.cartListShown)},clearCart:function(){this.toggleCartList(),this.clearShoppingCart(this.shopId)},changeTagIndex:function(){function t(t,s){return e.apply(this,arguments)}var e=(0,u.default)(l.default.mark(function t(e,s){var a;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ratingTagIndex=e,this.ratingOffset=0,this.ratingTagName=s,t.next=5,m.default.shopRatingList(this.shopId,this.ratingOffset,s);case 5:a=t.sent,this.ratingList=[].concat((0,o.default)(a));case 7:case"end":return t.stop()}},t,this)}));return t}(),addingToCart:function(t,e,s,a,i,o){this.addToCart({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:a,price:i,specs:o})},removingFromCart:function(t,e,s,a,i,o){this.moveoutFromCart({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:a,price:i,specs:o})},showMoveDotFunc:function(t,e,s){this.showMoveDot=[].concat((0,o.default)(this.showMoveDot),(0,o.default)(t)),this.dotLeft=e,this.dotBottom=s},listenInCart:function(){var t=this;this.cartRecieveDot||(this.cartRecieveDot=!0,this.$refs.cartContainer.addEventListener("webkitAnimationEnd",function(){t.cartRecieveDot=!1}),this.$refs.cartContainer.addEventListener("animationend",function(){t.cartRecieveDot=!1}))},beforeEnter:function(t){t.style.transform="translate3d(0, "+(37+this.dotBottom-this.windowHeight)+"px, 0)",t.children[0].style.transform="translate3d("+(this.dotLeft-30)+"px, 0, 0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=this;t.style.transform="translate3d(0, 0, 0)",t.children[0].style.transform="translate3d(0, 0, 0)",t.style.transition="transform 0.55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transition="transform 0.55s linear",this.showMoveDot=this.showMoveDot.map(function(t){return!1}),t.children[0].style.opacity=1,t.children[0].addEventListener("transitionend",function(){e.listenInCart()}),t.children[0].addEventListener("webkitAnimationEnd",function(){e.listenInCart()})},showChoicesList:function(t){t&&(this.choosedFood=t),this.showMultiChoicesDialog=!this.showMultiChoicesDialog,this.specChosedIndex=0},chooseSpec:function(t){this.specChosedIndex=t},addFoodChoice:function(t,e,s,a,i,o,n,r,c){this.addToCart({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:a,price:i,specs:o,packing_fee:n,sku_id:r,stock:c}),this.showChoicesList()},handleScroll:function(){document.querySelectorAll(".tooltip").length&&this.$root.$emit("bv::hide::tooltip")}}),watch:{showLoading:function(t){var e=this;t||this.$nextTick(function(){e.initCategoryNum()})},shopCart:function(t){this.initCategoryNum()}}}},551:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(540),o=a(i),n=s(93),r=a(n),c=s(89),l=a(c),d=s(196);e.default={data:function(){return{showMoveDot:[]}},props:["food","shopId"],computed:(0,l.default)({},(0,d.mapState)("global/cart",["shoppingList"]),{shopCart:function(){return(0,r.default)({},this.shoppingList[this.shopId])},foodNum:function(){var t=this.food.category_id,e=this.food.item_id;if(this.shopCart&&this.shopCart[t]&&this.shopCart[t][e]){var s=0;return(0,o.default)(this.shopCart[t][e]).forEach(function(t,e){s+=t.num}),s}return 0}}),methods:(0,l.default)({},(0,d.mapMutations)("global/cart",["addToCart","moveoutFromCart"]),{removeOutCart:function(t,e,s,a,i,o,n,r,c){this.foodNum>0&&this.moveoutFromCart({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:a,price:i,specs:o,packing_fee:n,sku_id:r,stock:c})},addItemToCart:function(t,e,s,a,i,o,n,r,c,l){this.addToCart({shopid:this.shopId,category_id:t,item_id:e,food_id:s,name:a,price:i,specs:o,packing_fee:n,sku_id:r,stock:c});var d=l.target.getBoundingClientRect().left,u=l.target.getBoundingClientRect().bottom;this.showMoveDot.push(!0),this.$emit("showMoveDot",this.showMoveDot,d,u)},showChoices:function(t){this.$emit("showChoicesList",t)},shopRemoveTip:function(){this.$emit("showRemoveTip")}})}},595:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(551),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);var n=s(596),r=s(195),c=r(i.a,n.a,!1,null,null,null);e.default=c.exports},596:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{staticClass:"flex-row align-items-center text-right",attrs:{cols:"9"}},[t.food.specifications.length?s("div",{staticClass:"d-flex flex-row flex-nowrap align-items-center justify-content-end"},[s("transition",{attrs:{name:"showReduce"}},[t.foodNum?s("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"},on:{click:t.shopRemoveTip}}):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.foodNum?s("span",{staticClass:"food-count-num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),s("b-button",{staticClass:"btn btn-outline-success frame-btn btn-choose",on:{click:function(e){t.showChoices(t.food)}}},[t._v("CHOOSE")])],1):s("div",{staticClass:"d-flex flex-row flex-nowrap align-items-center justify-content-end"},[s("transition",{attrs:{name:"showReduce"}},[t.foodNum?s("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"},on:{click:function(e){t.removeOutCart(t.food.category_id,t.food.item_id,t.food.specfoods[0].food_id,t.food.specfoods[0].name,t.food.specfoods[0].price,"",t.food.specfoods[0].packing_fee,t.food.specfoods[0].sku_id,t.food.specfoods[0].stock)}}}):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.foodNum?s("span",{staticClass:"food-count-num"},[t._v(t._s(t.foodNum))]):t._e()]),t._v(" "),s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"},on:{click:function(e){t.addItemToCart(t.food.category_id,t.food.item_id,t.food.specfoods[0].food_id,t.food.specfoods[0].name,t.food.specfoods[0].price,"",t.food.specfoods[0].packing_fee,t.food.specfoods[0].sku_id,t.food.specfoods[0].stock,e)}}})],1)])},i=[],o={render:a,staticRenderFns:i};e.a=o},597:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"text-light px-0",attrs:{fluid:""}},[s("div",{staticClass:"shop-container",attrs:{id:"app-container"}},[s("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading||t.loadRatings,expression:"showLoading || loadRatings"}]}),t._v(" "),t.showLoading?s("div",{staticClass:"shop-placeholder-bg-container"}):t._e(),t._v(" "),s("section",{attrs:{id:"shop-init-container"}},[t.showLoading?t._e():s("header-top",{attrs:{"go-back":"true"}}),t._v(" "),t.showLoading?t._e():s("b-container",{staticClass:"position-relative px-0 main-container d-flex flex-column h-100",attrs:{fluid:""}},[s("b-card",{staticClass:"shop-title-card",attrs:{"no-body":""}},[s("b-card-body",{staticClass:"p-0"},[s("router-link",{staticClass:"d-flex flex-row align-items-center",attrs:{to:"/shop/shopDetail"}},[s("img",{staticClass:"shop-img",attrs:{src:t.imgBaseUrl+t.shopDetailData.image_path}}),t._v(" "),s("div",{staticClass:"shop-description"},[s("h4",{staticClass:"pb-1"},[t._v(t._s(t.shopDetailData.name))]),t._v(" "),s("p",{staticClass:"py-1"},[t._v("商家配送 / "+t._s(t.shopDetailData.order_lead_time)+"分钟送达 / 配送费￥"+t._s(t.shopDetailData.float_delivery_fee))]),t._v(" "),s("p",{staticClass:"py-1"},[t._v("NOTICE: "+t._s(t.promotionInfo))])]),t._v(" "),s("i",{staticClass:"fa fa-chevron-right ml-1",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t.shopDetailData.activities.length?s("b-card-footer",{staticClass:"d-flex flex-row align-items-center",on:{click:t.isShowActivities}},[s("p",{staticClass:"ellipsis"},[s("span",{style:{backgroundColor:"#"+t.shopDetailData.activities[0].icon_color,borderColor:"#"+t.shopDetailData.activities[0].icon_color}},[t._v(t._s(t.shopDetailData.activities[0].icon_name))]),t._v(" "),s("span",[t._v(t._s(t.shopDetailData.activities[0].description)+" (APP ONLY)")])]),t._v(" "),s("p",{staticClass:"mr-2"},[t._v(t._s(t.shopDetailData.activities.length)+" PROMOTIONS")]),t._v(" "),s("i",{staticClass:"fa fa-chevron-right ml-1",attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),s("b-card",{staticClass:"shop-content-card d-flex flex-column",attrs:{"no-body":""}},[s("b-card-header",{staticClass:"d-flex flex-row align-items-center text-center"},[s("p",{class:{"active-show":"products"==t.changeNavType},on:{click:function(e){t.changeNavType="products"}}},[t._v("PRODUCTS")]),t._v(" "),s("p",{class:{"active-show":"comments"==t.changeNavType},on:{click:function(e){t.changeNavType="comments"}}},[t._v("COMMENTS")])]),t._v(" "),s("b-card-body",{staticClass:"px-0 pt-0 h-100",class:{"pb-0":"comments"==t.changeNavType}},[s("transition",{attrs:{name:"fade-choose"}},[s("b-container",{directives:[{name:"show",rawName:"v-show",value:"products"==t.changeNavType,expression:"changeNavType == 'products'"}],staticClass:"products-container p-0 bv-example-row h-100",attrs:{fluid:""}},[s("b-row",{staticClass:"m-0 h-100"},[s("b-col",{staticClass:"p-0",attrs:{cols:"3"}},t._l(t.menuList,function(e,a){return s("b-row",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{element:"#food"+a,container:"#food-list-container",duration:800,easing:"ease",offset:.125,x:!1,y:!0},expression:"{element: `#food${index}`, container: '#food-list-container', duration: 800, easing: 'ease', offset: 0.125, x: false, y: true}"}],key:a,staticClass:"menu-container flex-row align-items-center",class:{"active-menu":a==t.menuIndex},on:{click:function(e){t.chooseMenu(a)}}},[e.icon_url?s("img",{attrs:{src:t.getImgPath(e.icon_url)}}):t._e(),t._v(" "),s("span",[t._v(t._s(e.name))]),t._v(" "),t.categoryNum[a]&&1==e.type?s("span",{staticClass:"cate-num"},[t._v(t._s(t.categoryNum[a]))]):t._e()])})),t._v(" "),s("b-col",{staticClass:"food-container p-0",attrs:{cols:"9",id:"food-list-container"},on:{scroll:t.handleScroll}},t._l(t.menuList,function(e,a){return s("b-row",{key:a,attrs:{id:"food"+a}},[s("b-row",{staticClass:"food-list-header flex-row align-items-center w-100"},[s("span",[t._v(t._s(e.name))]),t._v(" "),s("span",[t._v(t._s(e.description))]),t._v(" "),s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.click.html.bottomleft",modifiers:{click:!0,html:!0,bottomleft:!0}}],staticClass:"fa fa-ellipsis-h",attrs:{"aria-hidden":"true",tabindex:"0",title:"<span>"+e.name+"</span> "+e.description}})]),t._v(" "),t._l(e.foods,function(e,a){return s("b-row",{key:a,staticClass:"w-100"},[s("router-link",{staticClass:"food-detail-info w-100 d-flex flex-row align-items-start",attrs:{tag:"div",to:{path:"shop/foodDetail",query:{imagePath:e.image_path,description:e.description,monthSales:e.month_sales,name:e.name,rating:e.rating,ratingCount:e.rating_count,satisfyRate:e.satisfy_rate,food:e,shopId:t.shopId}}}},[s("b-col",{attrs:{cols:"3"}},[s("img",{attrs:{src:t.imgBaseUrl+e.image_path}})]),t._v(" "),s("b-col",{staticClass:"food-info-section",attrs:{cols:"9"}},[s("h3",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))]),t._v(" "),s("p",[t._v(t._s(e.description))]),t._v(" "),s("p",[s("span",[t._v("Sold "+t._s(e.month_sales)+" monthly.")]),s("span",[t._v("Review: "+t._s(e.satisfy_rate)+"%")])]),t._v(" "),e.activity?s("p",{staticClass:"food-prom-text"},[s("span",{style:{color:"#"+e.activity.image_text_color,borderColor:"#"+e.activity.icon_color}},[t._v(t._s(e.activity.image_text))])]):t._e()])],1),t._v(" "),s("b-row",{staticClass:"order-section w-100 m-0"},[s("b-col",{staticClass:"flex-row align-items-center",attrs:{cols:"3"}},[s("p",[t._v("￥"+t._s(e.specfoods[0].price)+" "),e.specifications.length?s("span",[t._v("起")]):t._e()])]),t._v(" "),s("buy-cart",{attrs:{shopId:t.shopId,food:e},on:{showMoveDot:t.showMoveDotFunc,moveInCart:t.listenInCart,showChoicesList:t.showChoicesList,showRemoveTip:t.showRemoveTip}})],1)],1)})],2)}))],1),t._v(" "),s("b-row",{staticClass:"shopping-cart-footer fixed-bottom w-100 m-0"},[s("b-col",{attrs:{cols:"7"},on:{click:t.toggleCartList}},[s("div",{ref:"cartContainer",staticClass:"cart-icon-container",class:{"move-into-cart":t.cartRecieveDot}},[s("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}},[t.cartTotalProducts?s("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.cartTotalProducts))]):t._e()],1)]),t._v(" "),s("div",{staticClass:"all-shopping-price m-0"},[s("p",[s("span",{staticClass:"font-weight-bold"},[t._v("TOTAL: ")]),t._v(" $"+t._s(t.totalPrice))]),t._v(" "),s("p",[s("span",{staticClass:"font-weight-bold"},[t._v("DELIVERITY FEE: ")]),t._v(" $"+t._s(t.deliverityFees))])])]),t._v(" "),s("b-col",{staticClass:"d-flex align-items-center justify-content-center",class:{"pay-active":t.miniOrderAmount<=0},attrs:{cols:"5"}},[t.miniOrderAmount>0?s("span",[t._v("FREE DELIVERITY OVER $"+t._s(t.miniOrderAmount))]):s("router-link",{staticClass:"checkout-btn",attrs:{to:{path:"/confirmOrder",query:{geohash:t.geohash,shopId:t.shopId}}}},[t._v("CHECK OUT")])],1)],1),t._v(" "),s("transition",{attrs:{name:"toggle-cart"}},[s("b-row",{directives:[{name:"show",rawName:"v-show",value:t.cartListShown&&t.cartMenuList.length,expression:"cartListShown&&cartMenuList.length"}],staticClass:"m-0 w-100 cart-foods-card"},[s("b-card",{attrs:{"no-body":""}},[s("b-card-header",[s("h4",[t._v("SHOPPING CART")]),t._v(" "),s("i",{staticClass:"fa fa-trash-o",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",[t._v("CLEAR ALL")])]),t._v(" "),s("b-card-body",{staticClass:"p-0"},[s("b-list-group",t._l(t.cartMenuList,function(e,a){return s("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between align-items-center flex-row"},[s("div",[s("p",[t._v(t._s(e.name))]),t._v(" "),s("p",[t._v(t._s(e.specs))])]),t._v(" "),s("p",[t._v("$ "+t._s(e.price))]),t._v(" "),s("p",[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",[t._v(t._s(e.num))]),t._v(" "),s("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"}})])])}))],1)],1)],1)],1)],1)],1),t._v(" "),s("transition",{attrs:{name:"fade-choose"}},[s("b-container",{directives:[{name:"show",rawName:"v-show",value:"comments"==t.changeNavType,expression:"changeNavType == 'comments'"}],staticClass:"comments-container p-0",attrs:{fluid:""}},[s("b-card",{staticClass:"shop-comments-card",attrs:{"no-body":""}},[s("b-card-header",[s("b-row",{staticClass:"m-0"},[s("b-col",{staticClass:"p-0 d-flex flex-column align-items-center justify-content-center text-center",attrs:{cols:"5"}},[s("p",[t._v(t._s(t.shopDetailData.rating))]),t._v(" "),s("p",[t._v("OVERVIEW REVIEW")]),t._v(" "),s("p",[t._v("BETTER THAN SURROUNDING SHOPS "+t._s((100*t.ratingScoresData.compare_rating).toFixed(1))+"%")])]),t._v(" "),s("b-col",{staticClass:"d-flex flex-column align-items-start justify-content-center",attrs:{cols:"7"}},[s("p",{staticClass:"d-flex flex-row align-items-end w-100"},[s("span",[t._v("SERVICE REVIEW")]),t._v(" "),s("rating-star",{attrs:{rating:t.ratingScoresData.service_score}}),t._v(" "),s("span",{staticClass:"rating-text"},[t._v(t._s(t.ratingScoresData.service_score.toFixed(1)))])],1),t._v(" "),s("p",{staticClass:"d-flex flex-row align-items-end w-100"},[s("span",[t._v("FOOD REVIEW")]),t._v(" "),s("rating-star",{attrs:{rating:t.ratingScoresData.food_score}}),t._v(" "),s("span",{staticClass:"rating-text"},[t._v(t._s(t.ratingScoresData.food_score.toFixed(1)))])],1),t._v(" "),s("p",{staticClass:"d-flex flex-row align-items-center w-100"},[s("span",[t._v("DELIVERITY TIME")]),t._v(" "),s("span",{staticClass:"order-time-text"},[t._v(t._s(t.shopDetailData.order_lead_time)+" minutes")])])])],1)],1),t._v(" "),s("b-card-body",{staticClass:"p-0"},[s("b-row",{staticClass:"m-0"},t._l(t.ratingTagsList,function(e,a){return s("span",{key:a,class:{unsatisfied:e.unsatisfied,active:t.ratingTagIndex==a},on:{click:function(s){t.changeTagIndex(a,e.name)}}},[t._v(t._s(e.name)+"("+t._s(e.count)+")")])})),t._v(" "),s("b-list-group",{staticClass:"comments-list"},t._l(t.ratingList,function(e,a){return s("b-list-group-item",{key:a},[s("b-row",{staticClass:"w-100 m-0"},[s("b-col",{staticClass:"px-0",attrs:{cols:"3"}},[s("img",{attrs:{src:t.getImgPath(e.avatar)}})]),t._v(" "),s("b-col",{staticClass:"px-0",attrs:{cols:"9"}},[s("p",{staticClass:"d-flex flex-row align-items-center w-100 justify-content-between"},[s("span",[t._v(t._s(e.username))]),t._v(" "),s("span",{staticClass:"timestamp-text"},[t._v(t._s(e.rated_at))])]),t._v(" "),s("p",{staticClass:"d-flex flex-row align-items-end w-100"},[s("rating-star",{attrs:{rating:e.rating_star}}),t._v(" "),s("span",[t._v(t._s(e.time_spent_desc))])],1),t._v(" "),s("div",{staticClass:"comment-images"},t._l(e.item_ratings,function(e,a){return e.image_hash?s("img",{key:a,attrs:{src:t.getImgPath(e.image_hash)}}):t._e()})),t._v(" "),s("b-row",{staticClass:"m-0 comment-labels"},t._l(e.item_ratings,function(e,a){return s("span",{key:a},[t._v(t._s(e.food_name))])}))],1)],1)],1)}))],1)],1)],1)],1)],1)],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showActivities?s("div",{staticClass:"shop-promotion-container d-flex flex-column align-items-center w-100"},[s("h2",[t._v(t._s(t.shopDetailData.name))]),t._v(" "),s("rating-star",{attrs:{rating:t.shopDetailData.rating}}),t._v(" "),s("div",{staticClass:"promotion-detail-container text-center w-100"},[s("p",{staticClass:"header-text"},[t._v("PROMOTIONS DETAIL")]),t._v(" "),s("b-list-group",t._l(t.shopDetailData.activities,function(e){return s("b-list-group-item",{key:e.id,staticClass:"text-left"},[s("span",{staticClass:"promotion-icon",style:{backgroundColor:"#"+e.icon_color,borderColor:"#"+e.icon_color}},[t._v(t._s(e.icon_name))]),t._v(" "),s("span",[t._v(t._s(e.description)+" (APP ONLY)")])])}))],1),t._v(" "),s("div",{staticClass:"shop-notice-container text-center w-100"},[s("p",{staticClass:"header-text"},[t._v("NOTICE DETAIL")]),t._v(" "),s("p",{staticClass:"text-left promotion-text"},[t._v(t._s(t.promotionInfo))])]),t._v(" "),s("p",{staticClass:"d-flex align-items-end close-btn"},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(e){e.stopPropagation(),t.isShowActivities(e)}}})])],1):t._e()])],1)],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showMultiChoicesDialog?s("b-modal",{ref:"multiChoicesRef",staticClass:"multichoices-container",attrs:{centered:"",title:t.choosedFood.name,"title-tag":"h4","header-class":"py-2 text-center","body-class":"py-1",visible:t.showMultiChoicesDialog},on:{hidden:t.showChoicesList}},[s("h5",[t._v(t._s(t.choosedFood.specifications[0].name))]),t._v(" "),s("b-list-group",{staticClass:"d-flex flex-row flex-nowrap align-items-center justify-content-between"},t._l(t.choosedFood.specifications[0].values,function(e,a){return s("b-list-group-item",{key:a,class:{"spec-active":a==t.specChosedIndex},on:{click:function(e){t.chooseSpec(a)}}},[t._v(t._s(e))])})),t._v(" "),s("div",{staticClass:"w-100 d-flex flex-row flex-nowrap align-items-center justify-content-between",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("p",[s("span",[t._v("$")]),t._v(t._s(t.choosedFood.specfoods[t.specChosedIndex].price))]),t._v(" "),s("b-btn",{staticClass:"float-right frame-btn add-btn",attrs:{size:"sm",variant:"outline-success"},on:{click:function(e){t.addFoodChoice(t.choosedFood.category_id,t.choosedFood.item_id,t.choosedFood.specfoods[t.specChosedIndex].food_id,t.choosedFood.specfoods[t.specChosedIndex].name,t.choosedFood.specfoods[t.specChosedIndex].price,t.choosedFood.specifications[0].values[t.specChosedIndex],t.choosedFood.specfoods[t.specChosedIndex].packing_fee,t.choosedFood.specfoods[t.specChosedIndex].sku_id,t.choosedFood.specfoods[t.specChosedIndex].stock)}}},[t._v("ADD INTO CART")])],1)],1):t._e()],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("b-alert",{attrs:{show:t.alertDialogShowed}},[t._v("ONLY CAN DELETE FOOD WITH MULTIPLE PROPERTIES IN SHOPPING CART !!!")])],1),t._v(" "),t._l(t.showMoveDot,function(e,a){return s("transition",{key:a,attrs:{appear:""},on:{"after-appear":t.afterEnter,"before-appear":t.beforeEnter}},[e?s("span",{staticClass:"move-dot"},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}})]):t._e()])}),t._v(" "),s("transition",{attrs:{name:"router-slid",mode:"out-in"}},[s("router-view")],1)],2)])},i=[],o={render:a,staticRenderFns:i};e.a=o}});