webpackJsonp([40],{475:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(546),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);var r=a(591),o=a(195),c=o(s.a,r.a,!1,null,null,null);e.default=c.exports},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(89),s=function(t){return t&&t.__esModule?t:{default:t}}(i),n=a(196);e.default={props:["signinUp","headerTitle","goBack","hasLogo","paddingLeft"],methods:(0,s.default)({},(0,n.mapActions)("global/user",["getUserInfo"])),computed:(0,s.default)({},(0,n.mapState)("global/user",["userInfo"])),mounted:function(){this.getUserInfo()}}},521:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(520),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);var r=a(522),o=a(195),c=o(s.a,r.a,!1,null,null,null);e.default=c.exports},522:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"fixed-top"},[t._t("logo"),t._v(" "),a("b-navbar-nav",{staticClass:"flex-row align-items-center flex-nowrap",class:t.hasLogo?"":"w-100"},[t._t("search"),t._v(" "),t.goBack?a("b-nav-item",{on:{click:function(e){t.$router.go(-1)}}},[a("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.headerTitle?a("b-nav-text",{staticClass:"text-center text-uppercase",class:{"pl-0":t.paddingLeft}},[t._v("\n            "+t._s(t.headerTitle)+"\n        ")]):t._e(),t._v(" "),t._t("msiteTitle"),t._v(" "),t.signinUp?a("b-nav-item",{attrs:{to:t.userInfo?"/profile":"/login"}},[t.userInfo?a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}):a("span",{staticClass:"signin-text text-uppercase"},[t._v("SIGNIN/SIGNUP")])]):t._e(),t._v(" "),t._t("edit"),t._v(" "),t._t("changeCity"),t._v(" "),t._t("changeLogin")],2)],2)},s=[],n={render:i,staticRenderFns:s};e.a=n},546:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(521),n=i(s),r=a(135),o=i(r),c=a(92),l=i(c);e.default={data:function(){return{cityid:"",cityName:"",placeList:[],inputData:"",historyTitle:!0,placeHistory:[],placeNone:!1}},components:{headerTop:n.default},mounted:function(){var t=this;this.cityid=this.$route.params.cityid,o.default.currentCity(this.cityid).then(function(e){t.cityName=e.pinyin}),this.initData()},methods:{initData:function(){l.default.getStore("placeHistory")?this.placeList=JSON.parse(l.default.getStore("placeHistory")):this.placeList=[]},clearAll:function(){l.default.removeStore("placeHistory"),this.initData()},postPosition:function(){var t=this;this.inputData&&o.default.searchPlace(this.cityid,this.inputData).then(function(e){t.historyTitle=!1,t.placeList=e,t.placeNone=!e.length})},nextPage:function(t,e){var a=l.default.getStore("placeHistory"),i=this.placeList[t];if(a){var s=!1;this.placeHistory=JSON.parse(a),this.placeHistory.forEach(function(t){t.geohash===e&&(s=!0)}),s||this.placeHistory.push(i)}else this.placeHistory.push(i);l.default.setStore("placeHistory",this.placeHistory),this.$router.push({path:"/msite",query:{geohash:e}})}}}},591:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"text-light px-0",attrs:{fluid:""}},[a("div",{attrs:{id:"app-container"}},[a("header-top",{attrs:{"header-title":t.cityName,"go-back":"true"}},[a("b-nav-item",{attrs:{slot:"changeCity",to:"/home"},slot:"changeCity"},[t._v(" CHANGE CITY")])],1),t._v(" "),a("b-container",{staticClass:"px-0 main-container",attrs:{fluid:""}},[a("b-card",{staticClass:"city-form-card"},[a("b-form",{on:{sumbit:function(t){t.preventDefault()}}},[a("b-form-group",{staticClass:"city-input"},[a("b-form-input",{staticClass:"form-control",attrs:{type:"search",name:"city",placeholder:"PLEASE TYPE HOUSE NUM, BUILDING, ADDRESS...",required:"",autofocus:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}})],1),t._v(" "),a("b-button",{staticClass:"w-100 btn filled-btn",attrs:{name:"submit",value:"SUBMIT"},on:{click:t.postPosition}},[t._v("SUBMIT")])],1)],1),t._v(" "),a("b-card",{staticClass:"search-history-card",attrs:{"no-body":""}},[t.historyTitle?a("b-card-header",[t._v("\n                    SEARCH HISTORY\n                ")]):t._e(),t._v(" "),a("b-card-body",{staticClass:"p-0"},[t.placeNone?a("div",{staticClass:"notice-msg"},[t._v("NO SEARCHING RESULTS ...")]):a("b-container",{staticClass:"bv-example-row",attrs:{fluid:""}},t._l(t.placeList,function(e,i){return a("b-row",{key:i},[a("b-col",{attrs:{cols:"12"},on:{click:function(a){t.nextPage(i,e.geohash)}}},[a("h4",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.address))])])],1)}))],1),t._v(" "),t.historyTitle&&t.placeList.length?a("b-card-footer",{on:{click:t.clearAll}},[t._v("\n                    CLAER ALL\n                ")]):t._e()],1)],1)],1)])},s=[],n={render:i,staticRenderFns:s};e.a=n}});