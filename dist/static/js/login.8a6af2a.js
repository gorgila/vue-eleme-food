webpackJsonp([21],{492:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(564),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var i=s(611),o=s(195),l=o(n.a,i.a,!1,null,null,null);t.default=l.exports},520:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(89),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=s(196);t.default={props:["signinUp","headerTitle","goBack","hasLogo","paddingLeft"],methods:(0,n.default)({},(0,r.mapActions)("global/user",["getUserInfo"])),computed:(0,n.default)({},(0,r.mapState)("global/user",["userInfo"])),mounted:function(){this.getUserInfo()}}},521:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(520),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var i=s(522),o=s(195),l=o(n.a,i.a,!1,null,null,null);t.default=l.exports},522:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-navbar",{staticClass:"fixed-top"},[e._t("logo"),e._v(" "),s("b-navbar-nav",{staticClass:"flex-row align-items-center flex-nowrap",class:e.hasLogo?"":"w-100"},[e._t("search"),e._v(" "),e.goBack?s("b-nav-item",{on:{click:function(t){e.$router.go(-1)}}},[s("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),e.headerTitle?s("b-nav-text",{staticClass:"text-center text-uppercase",class:{"pl-0":e.paddingLeft}},[e._v("\n            "+e._s(e.headerTitle)+"\n        ")]):e._e(),e._v(" "),e._t("msiteTitle"),e._v(" "),e.signinUp?s("b-nav-item",{attrs:{to:e.userInfo?"/profile":"/login"}},[e.userInfo?s("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}):s("span",{staticClass:"signin-text text-uppercase"},[e._v("SIGNIN/SIGNUP")])]):e._e(),e._v(" "),e._t("edit"),e._v(" "),e._t("changeCity"),e._v(" "),e._t("changeLogin")],2)],2)},n=[],r={render:a,staticRenderFns:n};t.a=r},523:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["alertText","showAlert"],methods:{closeTip:function(){this.$emit("closeTip")}}}},524:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(523),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var i=s(525),o=s(195),l=o(n.a,i.a,!1,null,null,null);t.default=l.exports},525:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"alertTipModal",staticClass:"alert-tip-container",attrs:{centered:"","hide-header":"","hide-footer":"",visible:e.showAlert,"body-class":"d-flex flex-column align-items-center"},on:{hidden:e.closeTip}},[s("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),e._v(" "),s("p",{staticClass:"text-center"},[e._v(e._s(e.alertText))]),e._v(" "),s("b-button",{staticClass:"btn btn-outline-success w-100 frame-btn",on:{click:e.closeTip}},[e._v("CONFIRM")])],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},564:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(90),r=a(n),i=s(91),o=a(i),l=s(89),c=a(l),u=s(521),f=a(u),d=s(524),p=a(d),h=s(135),m=a(h),b=s(196);t.default={data:function(){return{mobileLogin:!1,showPassword:!1,userAccount:null,userInfo:null,password:null,phoneNumber:null,mobileCode:null,computedTime:0,validatedToken:null,captchaCodeImg:null,verificationCode:null,showAlert:!1,alertText:null}},components:{headerTop:f.default,alertTip:p.default},created:function(){this.getCaptchaCode()},computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.phoneNumber)}},beforeDestroy:function(){clearInterval(this.timer)},methods:(0,c.default)({},(0,b.mapMutations)("global/user",["recordUserInfo"]),{changeLoginWay:function(){this.mobileLogin=!this.mobileLogin},getCaptchaCode:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.getcaptchas();case 2:t=e.sent,this.captchaCodeImg=t.code;case 4:case"end":return e.stop()}},e,this)}));return e}(),showPasswordFunc:function(){this.showPassword=!this.showPassword},getMobileCode:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(r.default.mark(function e(){var t,s,a=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rightPhoneNumber){e.next=24;break}return this.computedTime=30,this.timer=setInterval(function(){0===--a.computedTime&&clearInterval(a.timer)},1e3),e.next=5,m.default.checkExsit(this.phoneNumber,"mobile");case 5:if(t=e.sent,!t.message){e.next=12;break}return this.showAlert=!0,this.alertText=t.message,e.abrupt("return");case 12:if(t.is_exists){e.next=16;break}return this.showAlert=!0,this.alertText="Phone number did not register before!!!",e.abrupt("return");case 16:return e.next=18,m.default.mobileCode(this.phoneNumber);case 18:if(s=e.sent,!s.message){e.next=23;break}return this.showAlert=!0,this.alertText=s.message,e.abrupt("return");case 23:this.validatedToken=s.validate_token;case 24:case"end":return e.stop()}},e,this)}));return e}(),login:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mobileLogin){e.next=16;break}if(!this.rightPhoneNumber){e.next=7;break}return this.showAlert=!0,this.alertText="Phone number is incorrect!!!",e.abrupt("return");case 7:if(/^\d{6}$/gi.test(this.mobileCode)){e.next=11;break}return this.showAlert=!0,this.alertText="Message verification code is incorrect!!!",e.abrupt("return");case 11:return e.next=13,m.default.mobileLogin(this.mobileCode,this.phoneNumber,this.validate_token);case 13:this.userInfo=e.sent,e.next=35;break;case 16:if(this.userAccount){e.next=22;break}return this.showAlert=!0,this.alertText="Please type in phone number/email/username!!!",e.abrupt("return");case 22:if(this.password){e.next=28;break}return this.showAlert=!0,this.alertText="Please type in password!!!",e.abrupt("return");case 28:if(this.verificationCode){e.next=32;break}return this.showAlert=!0,this.alertText="Please type in verfication code!!!",e.abrupt("return");case 32:return e.next=34,m.default.accountLogin(this.userAccount,this.password,this.verificationCode);case 34:this.userInfo=e.sent;case 35:if(this.userInfo.user_id){e.next=42;break}return this.showAlert=!0,this.alertText=this.userInfo.message,this.mobileLogin||this.getCaptchaCode(),e.abrupt("return");case 42:return this.recordUserInfo(this.userInfo),this.$router.go(-1),e.abrupt("return");case 45:case"end":return e.stop()}},e,this)}));return e}()})}},611:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"text-light px-0",attrs:{fluid:""}},[s("div",{staticClass:"login-container",attrs:{id:"app-container"}},[s("header-top",{attrs:{"header-title":e.mobileLogin?"PHONE LOGIN":"PASSWORD LOGIN","go-back":"true"}},[s("b-nav-item",{attrs:{slot:"changeLogin"},on:{click:e.changeLoginWay},slot:"changeLogin"},[e._v(e._s(e.mobileLogin?"PASSWORD LOGIN":"PHONE LOGIN"))])],1),e._v(" "),s("b-container",{staticClass:"position-relative px-0 main-container d-flex flex-column h-100",attrs:{fluid:""}},[s("b-card",{staticClass:"login-form-card"},[e.mobileLogin?s("b-form",{staticClass:"d-flex flex-column align-items-center",on:{sumbit:function(e){e.preventDefault()}}},[s("b-input-group",{staticClass:"d-flex flex-row align-items-center"},[s("b-form-input",{staticClass:"form-control app-input",attrs:{type:"text",placeholder:"Mobile Number",maxlength:"11"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),s("b-input-group-append",{staticClass:"ml-2 align-items-center"},[s("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.computedTime,expression:"!computedTime"}],staticClass:"btn btn-outline-success frame-btn",on:{click:function(t){t.preventDefault(),e.getMobileCode(t)}}},[e._v("GET CODE")]),e._v(" "),s("b-button",{directives:[{name:"show",rawName:"v-show",value:e.computedTime,expression:"computedTime"}],staticClass:"btn btn-outline-success frame-btn",attrs:{disabled:""},on:{click:function(e){e.preventDefault()}}},[e._v("SENT ("+e._s(e.computedTime)+"s)")])],1)],1),e._v(" "),s("b-form-input",{staticClass:"form-control app-input",attrs:{type:"text",placeholder:"Mobile Code",maxlength:"6"},model:{value:e.mobileCode,callback:function(t){e.mobileCode=t},expression:"mobileCode"}})],1):s("b-form",{staticClass:"d-flex flex-column align-items-center",on:{sumbit:function(e){e.preventDefault()}}},[s("b-form-input",{staticClass:"form-control app-input",attrs:{name:"username",type:"text",placeholder:"Username",autofocus:""},model:{value:e.userAccount,callback:function(t){e.userAccount=t},expression:"userAccount"}}),e._v(" "),s("b-input-group",{staticClass:"d-flex flex-row align-items-center"},[e.showPassword?s("b-form-input",{staticClass:"form-control app-input",attrs:{type:"text",placeholder:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):s("b-form-input",{staticClass:"form-control app-input",attrs:{type:"password",placeholder:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("b-input-group-append",{staticClass:"d-block ml-2"},[s("div",{staticClass:"onoffswitch"},[s("input",{attrs:{type:"checkbox",name:"onoffswitch",id:"passwordSwitch"},on:{click:e.showPasswordFunc}}),e._v(" "),s("label",{staticClass:"onoffswitch-label",attrs:{for:"passwordSwitch"}},[s("span",{staticClass:"onoffswitch-inner"}),e._v(" "),s("span",{staticClass:"onoffswitch-switch"})])])])],1),e._v(" "),s("b-input-group",{staticClass:"d-flex flex-row align-items-center"},[s("b-form-input",{staticClass:"form-control app-input",attrs:{type:"text",placeholder:"Verification Code",maxlength:"4"},model:{value:e.verificationCode,callback:function(t){e.verificationCode=t},expression:"verificationCode"}}),e._v(" "),s("b-input-group-append",{staticClass:"ml-2 align-items-center"},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.captchaCodeImg,expression:"captchaCodeImg"}],staticClass:"captcha-img",attrs:{src:e.captchaCodeImg}}),e._v(" "),s("p",{staticClass:"refresh-text ml-2",on:{click:e.getCaptchaCode}},[e._v("Refresh")])])],1)],1),e._v(" "),s("p",{staticClass:"login-tips"},[e._v("Notice: the user account will automatically register when login if the account never register before!!!")]),e._v(" "),s("p",{staticClass:"login-tips"},[e._v("Registered account can login according to the account username and password!!!")]),e._v(" "),s("b-button",{staticClass:"w-100 btn filled-btn login-btn",attrs:{name:"login",value:"LOGIN"},on:{click:e.login}},[e._v("LOGIN")]),e._v(" "),e.mobileLogin?e._e():s("router-link",{staticClass:"forget-btn",attrs:{to:"/forget"}},[e._v("Reset Password")])],1),e._v(" "),s("alert-tip",{attrs:{alertText:e.alertText,showAlert:e.showAlert},on:{closeTip:function(t){e.showAlert=!1}}})],1)],1)])},n=[],r={render:a,staticRenderFns:n};t.a=r}});