webpackJsonp([12],{505:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(577),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(632),o=a(195),l=o(n.a,r.a,!1,null,null,null);e.default=l.exports},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(89),n=function(t){return t&&t.__esModule?t:{default:t}}(s),i=a(196);e.default={props:["signinUp","headerTitle","goBack","hasLogo","paddingLeft"],methods:(0,n.default)({},(0,i.mapActions)("global/user",["getUserInfo"])),computed:(0,n.default)({},(0,i.mapState)("global/user",["userInfo"])),mounted:function(){this.getUserInfo()}}},521:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(520),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(522),o=a(195),l=o(n.a,r.a,!1,null,null,null);e.default=l.exports},522:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"fixed-top"},[t._t("logo"),t._v(" "),a("b-navbar-nav",{staticClass:"flex-row align-items-center flex-nowrap",class:t.hasLogo?"":"w-100"},[t._t("search"),t._v(" "),t.goBack?a("b-nav-item",{on:{click:function(e){t.$router.go(-1)}}},[a("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.headerTitle?a("b-nav-text",{staticClass:"text-center text-uppercase",class:{"pl-0":t.paddingLeft}},[t._v("\n            "+t._s(t.headerTitle)+"\n        ")]):t._e(),t._v(" "),t._t("msiteTitle"),t._v(" "),t.signinUp?a("b-nav-item",{attrs:{to:t.userInfo?"/profile":"/login"}},[t.userInfo?a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}):a("span",{staticClass:"signin-text text-uppercase"},[t._v("SIGNIN/SIGNUP")])]):t._e(),t._v(" "),t._t("edit"),t._v(" "),t._t("changeCity"),t._v(" "),t._t("changeLogin")],2)],2)},n=[],i={render:s,staticRenderFns:n};e.a=i},523:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["alertText","showAlert"],methods:{closeTip:function(){this.$emit("closeTip")}}}},524:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(523),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(525),o=a(195),l=o(n.a,r.a,!1,null,null,null);e.default=l.exports},525:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"alertTipModal",staticClass:"alert-tip-container",attrs:{centered:"","hide-header":"","hide-footer":"",visible:t.showAlert,"body-class":"d-flex flex-column align-items-center"},on:{hidden:t.closeTip}},[a("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),t._v(" "),a("p",{staticClass:"text-center"},[t._v(t._s(t.alertText))]),t._v(" "),a("b-button",{staticClass:"btn btn-outline-success w-100 frame-btn",on:{click:t.closeTip}},[t._v("CONFIRM")])],1)},n=[],i={render:s,staticRenderFns:n};e.a=i},531:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={methods:{getImgPath:function(t){var e=void 0;return t?(e=-1!==t.indexOf("jpeg")?".jpeg":".png","https://fuss10.elemecdn.com/"+t.substr(0,1)+"/"+t.substr(1,2)+"/"+t.substr(3)+e):"http://test.fe.ptdev.cn/elm/elmlogo.jpeg"}}};e.default={getImgPath:s}},577:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(90),i=s(n),r=a(91),o=s(r),l=a(89),u=s(l),c=a(521),f=s(c),d=a(524),p=s(d),h=a(531),v=s(h),g=a(92),m=s(g),_=a(135),b=s(_),x=a(196),w=a(136);e.default={data:function(){return{username:"",infoPhone:"",avatar:"",showLogoutDialog:!1,showAlert:!1,alertText:null,imgBaseUrl:w.imgBaseUrl}},mixins:[v.default.getImgPath],components:{headerTop:f.default,alertTip:p.default},computed:(0,u.default)({},(0,x.mapState)("global/user",["userInfo"])),mounted:function(){this.initData()},methods:(0,u.default)({},(0,x.mapMutations)("global/user",["loginOut"]),{initData:function(){this.userInfo&&this.userInfo.user_id&&(this.username=this.userInfo.username,this.infoPhone=this.userInfo.mobile,this.avatar=this.userInfo.avatar)},changePhone:function(){this.showAlert=!0,this.alertText="Please set from mobile APP!!!"},uploadProfileImg:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(){var e,a,s,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.userInfo){t.next=19;break}return e=document.querySelector(".profileinfopanel-upload"),a=new FormData,a.append("file",e.files[0]),t.prev=4,t.next=7,fetch("/eus/v1/users/"+this.userInfo.user_id+"/avatar",{method:"POST",credentials:"include",body:a});case 7:return s=t.sent,t.next=10,s.json();case 10:n=t.sent,1===n.status&&(this.userInfo.avatar=n.image_path),t.next=19;break;case 14:throw t.prev=14,t.t0=t.catch(4),this.showAlert=!0,this.alertText="Upload failed !!!",new Error(t.t0);case 19:case"end":return t.stop()}},t,this,[[4,14]])}));return t}(),showLogout:function(){this.showLogoutDialog=!this.showLogoutDialog},logout:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loginOut(),this.showLogoutDialog=!1,this.$router.go(-1),m.default.removeStore("user_id"),t.next=6,b.default.signout();case 6:case"end":return t.stop()}},t,this)}));return t}()}),watch:{userInfo:function(t){this.initData()}}}},632:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"pro-info-container"}},[a("header-top",{attrs:{"header-title":"account detail","go-back":"true"}}),t._v(" "),a("b-container",{staticClass:"px-0 main-container h-100",attrs:{fluid:""}},[a("b-card",{staticClass:"pro-info-card d-flex flex-column",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-0"},[a("b-list-group",[a("b-list-group-item",{staticClass:"avatar-section"},[a("input",{staticClass:"profileinfopanel-upload",attrs:{type:"file"},on:{change:t.uploadProfileImg}}),t._v(" "),a("div",{staticClass:"d-flex flex-row align-items-center justify-content-between pro-img-section"},[a("span",[t._v("PROFILE IMAGE")]),t._v(" "),a("div",{staticClass:"d-flex flex-row align-items-center"},[t.userInfo&&t.userInfo.user_id?a("img",{staticClass:"profileImg",attrs:{src:t.imgBaseUrl+t.userInfo.avatar}}):a("span",{staticClass:"profileImg"},[a("i",{staticClass:"fa fa-user-circle-o",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("i",{staticClass:"fa fa-chevron-right ml-3 right-arrow",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("b-list-group-item",[a("router-link",{staticClass:"d-flex flex-row align-items-center justify-content-between",attrs:{to:"/profile/info/setUsername"}},[a("span",[t._v("USERNAME")]),t._v(" "),a("p",[a("span",[t._v(t._s(t.username))]),a("i",{staticClass:"fa fa-chevron-right ml-3",attrs:{"aria-hidden":"true"}})])])],1),t._v(" "),a("b-list-group-item",[a("router-link",{staticClass:"d-flex flex-row align-items-center justify-content-between",attrs:{to:"/profile/info/address"}},[a("span",[t._v("SHIPPING ADDRESS")]),t._v(" "),a("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])],1)],1)],1),t._v(" "),a("b-card-body",{staticClass:"px-0 pt-0"},[a("b-list-group",[a("b-list-group-item",{staticClass:"pro-setting-title-text"},[a("span",[t._v("BIND PHONE")])]),t._v(" "),a("b-list-group-item",[a("div",{staticClass:"d-flex flex-row align-items-center justify-content-between",on:{click:t.changePhone}},[a("p",[a("i",{staticClass:"fa fa-mobile mobile-icon",attrs:{"aria-hidden":"true"}}),a("span",[t._v("PHONE NUMBER")])]),t._v(" "),a("p",[a("span",{staticClass:"pl-0"},[t._v(t._s(t.infoPhone))]),a("i",{staticClass:"fa fa-chevron-right ml-3",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("b-list-group-item",{staticClass:"pro-setting-title-text"},[a("span",[t._v("SECURITY SETTINGS")])]),t._v(" "),a("b-list-group-item",[a("router-link",{staticClass:"d-flex flex-row align-items-center justify-content-between",attrs:{to:"/forget"}},[a("p",[a("span",{staticClass:"pl-0"},[t._v("LOGIN PASSWORD")])]),t._v(" "),a("p",[a("span",{staticClass:"pl-0"},[t._v("CHANGE")]),a("i",{staticClass:"fa fa-chevron-right ml-3",attrs:{"aria-hidden":"true"}})])])],1)],1)],1),t._v(" "),a("b-card-footer",[a("b-button",{staticClass:"w-100 btn filled-btn",attrs:{name:"logout",value:"LOGOUT"},on:{click:function(e){e.preventDefault(),t.showLogoutDialog=!0}}},[t._v("LOGOUT")])],1)],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showLogoutDialog?a("b-modal",{ref:"logoutQuesRef",staticClass:"logout-modal-container",attrs:{centered:"","hide-header":"","body-class":"py-1 d-flex flex-column align-items-center",visible:t.showLogoutDialog},on:{hidden:t.showLogout}},[a("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),t._v(" "),a("p",{staticClass:"text-uppercase"},[t._v("Are you certain ???")]),t._v(" "),a("div",{staticClass:"w-100 d-flex flex-row flex-nowrap align-items-center justify-content-between",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("b-button",{staticClass:"w-100 btn filled-btn info-btn cancel-btn",attrs:{name:"cancel",value:"CANCEL"},on:{click:function(e){t.showLogoutDialog=!1}}},[t._v("CANCEL")]),t._v(" "),a("b-button",{staticClass:"w-100 btn filled-btn info-btn",attrs:{name:"logout",value:"LOGOUT"},on:{click:t.logout}},[t._v("LOGOUT")])],1)]):t._e()],1),t._v(" "),a("alert-tip",{attrs:{alertText:t.alertText,showAlert:t.showAlert},on:{closeTip:function(e){t.showAlert=!1}}}),t._v(" "),a("transition",{attrs:{name:"router-slid",mode:"out-in"}},[a("router-view")],1)],1)],1)},n=[],i={render:s,staticRenderFns:n};e.a=i}});